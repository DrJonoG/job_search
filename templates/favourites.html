{% extends "base.html" %}
{% block title %}Favourites â€“ job_search{% endblock %}

{% block content %}
<!-- Header -->
<div class="d-flex flex-wrap justify-content-between align-items-center mb-4">
    <div>
        <h3 class="fw-bold mb-1"><i class="bi bi-heart-fill me-2 text-danger"></i>Favourites</h3>
        <p class="text-muted mb-0"><span id="totalFavourites">{{ stats.favourite_count }}</span> saved jobs</p>
    </div>
    <div class="d-flex gap-2">
        <button class="btn btn-primary btn-sm" onclick="window.location='/jobs'">
            <i class="bi bi-collection me-1"></i> Job Board
        </button>
    </div>
</div>

<!-- Loading -->
<div id="favLoading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status"></div>
    <p class="text-muted mt-2">Loading favourites...</p>
</div>

<!-- Empty State -->
<div id="favEmpty" class="text-center py-5" style="display:none;">
    <i class="bi bi-heart display-1 text-muted"></i>
    <h4 class="mt-3 text-muted">No favourites yet</h4>
    <p class="text-muted">Click the <i class="bi bi-heart text-danger"></i> icon on any job to save it here.</p>
    <a href="/jobs" class="btn btn-primary mt-2"><i class="bi bi-collection me-1"></i> Browse Jobs</a>
</div>

<!-- Job List -->
<div id="favList"></div>
{% endblock %}

{% block extra_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => loadFavourites());
</script>
{% endblock %}
